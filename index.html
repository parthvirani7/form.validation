<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <h1>USER REGISTER FORM</h1>
    <ol>
      <li>
        <p style="font-size: 20px">
          Enter First Name :
          <input id="fname" type="text" placeholder="Enter Your First Name" />
        </p>
      </li>
      <li>
        <p style="font-size: 20px">
          Enter Last Name :
          <input id="lname" type="text" placeholder="Enter Your Last Name" />
        </p>
      </li>

      <li>
        <p style="font-size: 20px">
          Enter Address :
          <input id="address" type="text" placeholder="Enter Your Address" />
        </p>
      </li>
      <li>
        <p style="font-size: 20px">
          Enter Age :
          <input id="age" type="number" placeholder="Enter Your Age" />
        </p>
      </li>
      <li>
        <p style="font-size: 20px">
          Enter Your Job :
          <input id="job" type="text" placeholder="Enter Job" />
        </p>
      </li>
      <li>
        <p style="font-size: 20px">
          Enter Your Mobile no :
          <input id="number" type="text" placeholder="Mobile Number" />
        </p>
      </li>
      <li>
        <p style="font-size: 20px">
          Enter Your Country :
          <input id="country" type="text" placeholder="Country Name" />
        </p>
      </li>
    </ol>
    <p>if you filled form correctly then click brlow button to submit</p>

    <button type="submit" onclick="submitForm()">Click Here</button>
    <p id="error" style="color: red"></p>

    <hr />
    <p>Click twise below button to get Information</p>
    <button ondblclick="getUserInfo()">click here</button>

    <p id="test_fname"></p>
    <p id="test_lname"></p>
    <p id="test_address"></p>
    <p id="test_age"></p>
    <p id="test_job"></p>
    <p id="test_number"></p>
    <p id="test_country"></p>
  </body>
  <script>
    function submitForm() {
      let fname = document.getElementById("fname").value;
      let lname = document.getElementById("lname").value;
      let address = document.getElementById("address").value;
      let age = document.getElementById("age").value;
      let job = document.getElementById("job").value;
      let number = document.getElementById("number").value;
      let country = document.getElementById("country").value;

      try {
        if (fname && lname && address && age) {
          alert("Form Submitted !!");
          document.getElementById("error").innerHTML = "";
          let userData = {
            lname,
            age,
            address,
            fname,
            job,
            number,
            country,
          };

          localStorage.setItem("userInformation", JSON.stringify(userData));
        } else {
          throw "please fill this form";
        }
      } catch (error) {
        document.getElementById("error").innerHTML = error;
      }
    }
    function getUserInfo() {
      let userdata = JSON.parse(localStorage.getItem("userInformation"));
      document.getElementById("test_fname").innerHTML =
        userdata.fname ?? "Something went to wrong";
      document.getElementById("test_lname").innerHTML =
        userdata.lname ?? "Something went to wrong";
      document.getElementById("test_address").innerHTML =
        userdata.address ?? "Something went to wrong";
      document.getElementById("test_age").innerHTML =
        userdata.age ?? "Something went to wrong";
      document.getElementById("test_job").innerHTML =
        userdata.job ?? "Something went to wrong";
      document.getElementById("test_number").innerHTML =
        userdata.number ?? "Something went to wrong";
      document.getElementById("test_country").innerHTML =
        userdata.country ?? "Something went to wrong";
    }
  </script>
</html>
